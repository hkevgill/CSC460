<!DOCTYPE HTML>
<html>
	<head>
		<title>Project 3</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="assets/css/main.css" />
		<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
	</head>
	<body class="no-sidebar">
		<div id="page-wrapper">

			<!-- Header -->
				<div id="header-wrapper">
					<div id="header">

						<!-- Logo -->
							<h1><a href="index.html">Project 3</a></h1>

						<!-- Nav -->
							<nav id="nav">
								<ul>
									<li><a href="index.html">Home</a></li>
									<li><a href="project1.html">Project 1</a></li>
									<li><a href="project2.html">Project 2</a></li>
									<li class="current"><a href="project3.html">Project 3</a></li>
								</ul>
							</nav>

					</div>
				</div>

			<!-- Main -->
				<div id="main-wrapper">
					<div class="container">

						<!-- Content -->
							<article class="box post">
								<a href="#" class="image featured"><img src="images/terminate.jpg" alt="" /></a>
								<header>
									<h2>Project 3</h2>
								</header>

								<section>
                                    <h3>Contents</h3
                                    <ul class="bulleted">
                                        <li> <a href="#Introduction">Introduction</a> </li>
                                        <li> <a href="#Hardware">Hardware</a> </li>
                                        <li> <a href="#Design">Design</a> </li>
                                        <li> <a href="#Implementation">Implementation</a> </li>
                                        <li> <a href="#Testing">Testing</a> </li>
                                        <li> <a href="#Conclusion">Conclusion</a> </li>
                                        <li> <a href="#References">References</a> </li>
                                        <li> <a href="#Code">Code</a> </li>
                                    </ul>
                                </section>

                                <section id="Introduction">
									<header>
										<h3>Introduction</h3>
									</header>
									<p>
										The goal of project 3 is to use the sensors and actuators from project 1, the real time operating system (RTOS) from project 2, and an iRobot Roomba to create a semi-autonomous laser tank capaable of battling other tanks. The Roomba will be controllable through a joystick and a pushbutton for the laser. It can roam and avoid obstacles and virtual walls on its own in autonomous mode. There is also a light-sensing target on the Roomba that detects when it has been shot, in which in case it will remain stationary as if it has been destroyed.
									</p>
								</section>

								<section id="Hardware">
									<header>
										<h3>Hardware</h3>
									</header>
									<h4>iRobot Roomba Create 2</h4>
									<a class="image paragraph"><img src="images/irobot-roomba.jpg"></a>
                                    <br>
									<p>
										The iRobot Roomba Create 2 is a mobile programmable robot that allows sounds, movements, and additional sensors and actuators to be added and customized.
									</p>
								</section>

								<section id="Design">
									<header>
										<h3>Design</h3>
									</header>
									<p>
										Design
									</p>
								</section>

								<section id="Implementation">
									<header>
										<h3>Implementation</h3>
									</header>
									<p>
										Implementation
									</p>
								</section>

								<section id="Testing">
									<header>
										<h3>Testing</h3>
									</header>
									<p>
										Testing was conducted to evaluate whether the applications behaviour matched the expected criteria. Testing was split into four distinct categories. These categories are manuel control and laser, IR boundary and obstacle avoidance, semi-autonomous, and light detection.
									</p>
									<h4>Manual Control and Firing</h4>
									<p>
										<table>
                                            <tr>
                                                <td>Objective:</td>
                                                <td>To test that the joystick movements are correctly mapped, sent over bluetooth, and translated into Roomba drive commands to control the Roomba.</td>
                                            </tr>
                                            <tr>
                                                <td>Description:</td>
                                                <td>Moving the joystick up and down makes the Roomba go straight forward and straight backwards. Moving the joystick left causes the Roomba to spin counterclockwise, moving right causes the Roomba to spin clockwise. Moving the joystick to the top left corner causes the Roomba to travel forwards and counterclockwise, the top right corner causes it to travel forwards and clockwise, the bottom left causes it to travel backwards and clockwise, and the bottom right to travel backwards and counterclockwise.</td>
                                            </tr>
                                            <tr>
                                                <td>Results:</td>
                                                <td>As shown in the video below, the Roomba responds quickly and effectively to the expected behaviour</td>
                                            </tr>
                                        </table>
									</p>
									<video width="640" height="400" controls>
										<source src="videos/manual_and_laser.mov" type="video/mp4">
										Your browser does not support the video tag.
									</video>
									<h4>IR Boundary and Obstacle Avoidance in Manual Mode</h4>
									<p>
										<table>
                                            <tr>
                                                <td>Objective:</td>
                                                <td>This test has two purposes. The first is to make sure the Roomba does not cross any virtual walls by backing up when the wall is detected. The second is to back up when the Roomba runs into an obstacle with the bumper.</td>
                                            </tr>
                                            <tr>
                                                <td>Description:</td>
                                                <td>When the Roomba runs into an obstacle with the bumper, it will travel straight backwards to back away from the object so that the user can then attempt to avoid the obstacle. The same occurs for the virtual wall.</td>
                                            </tr>
                                            <tr>
                                                <td>Results:</td>
                                                <td>As shown in the video below, the Roomba backs away when the bumper is hit, or the virtual wall is detected.</td>
                                            </tr>
                                        </table>
									</p>
									<video width="640" height="400" controls>
										<source src="videos/bumper_and_ir.mov" type="video/mp4">
										Your browser does not support the video tag.
									</video>
									<h4>Semi-Autonomous Control</h4>
									<p>
										<table>
                                            <tr>
                                                <td>Objective:</td>
                                                <td>This test has four purposes. The first is to make that the Roomba can switch from manual to semi-autonomous mode and vice versa. The second is to verify that while in semi-autonomous mode, the Roomba travels forward. The third tests that if a virtual wall is detected, the Roomba will backup, turn counterclockwise, and then continue forward. The fourth shows that when an obstacle is hit the roomba backs up, turns counterclockwise, and continues as well.</td>
                                            </tr>
                                            <tr>
                                                <td>Description:</td>
                                                <td>The video starts by switching from manual mode to semi-autonomous mode. Then the Roomba travels into the virtual wall and turns counterclockwise. Once the Roomba hits the real wall, it also turns clockwise. The video ends by using the button to switch back to manual mode. The virtual wall emitter is enclosed by two red cups in order to emit a more focused beam.</td>
                                            </tr>
                                            <tr>
                                                <td>Results:</td>
                                                <td>As shown in the video below, the Roomba successfully switches modes, avoids the virtual wall, and bounces off the real wall, and successfully returns to manual mode.</td>
                                            </tr>
                                        </table>
									</p>
									<video width="640" height="400" controls>
										<source src="videos/autonomous.mov" type="video/mp4">
										Your browser does not support the video tag.
									</video>
									<h4>Light Detection</h4>
									<p>
										<table>
                                            <tr>
                                                <td>Objective:</td>
                                                <td>To test that the light sensor successfully detects a laser and registers it as a hit.</td>
                                            </tr>
                                            <tr>
                                                <td>Description:</td>
                                                <td>When a laser is shined on the light sensor, the Roomba will play a sound to indicate that it was hit, turn off its laser, stop moving, and be in a dead state.</td>
                                            </tr>
                                            <tr>
                                                <td>Results:</td>
                                                <td>As shown in the video below, the Roomba successfully stops moving, has its laser off, and can no longer be controlled until it is reset.</td>
                                            </tr>
                                        </table>
									</p>
									<video width="640" height="400" controls>
										<source src="videos/light_detection.mov" type="video/mp4">
										Your browser does not support the video tag.
									</video>
								</section>

								<section id="Conclusion">
									<header>
										<h3>Conclusion</h3>
									</header>
									<p>
										A semi-autonomous laser tank was created using the sensors and actuators from project 1, the RTOS from project 2, the ATMega 2560 microcontroller, and the iRobot Roomba Create 2. The tank's movement can be operated manually or autonomously, while the laser is always controlled by the pushbutton on the joystick. The light sensor detects the light of the room using averaging and detects bursts in the light to determine whether it has been hit. This concludes our making of a Roomba laser tank.
									</p>
								</section>

								<section id="References">
									<header>
										<h3>References</h3>
									</header>
									<p>
										<ul>
	                                        <li>
	                                        	The ATMega 2560 Datasheet is available <a href="http://www.atmel.com/images/atmel-2549-8-bit-avr-microcontroller-atmega640-1280-1281-2560-2561_datasheet.pdf">here</a>.
	                                        </li>
	                                        <li>
	                                        	The iRobot Roomba Create 2 Open Interface is available <a href="http://www.irobot.com/~/media/MainSite/PDFs/About/STEM/Create/create_2_Open_Interface_Spec.pdf">here</a>.
	                                        </li>
	                                    </ul>
									</p>
								</section>

								<section id="Code">
									<header>
										<h3>Code</h3>
									</header>
									<p>
										The code API as generated by Doxygen is available <a href="">here</a>.
										<br>
										Download the project 3 source code <a href="http://www.roombatank.com/project3.zip">here</a>.
									</p>
								</section>

							</article>

					</div>
				</div>

			<!-- Footer -->
				<div id="footer-wrapper">
					<section id="footer" class="container">
						<div class="row">
							<div class="12u">

								<!-- Copyright -->
									<div id="copyright">
										<ul class="links">
											<li>ROOMBA TANK &copy; 2016</li>
										</ul>
									</div>

							</div>
						</div>
					</section>
				</div>

		</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.dropotron.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/skel-viewport.min.js"></script>
			<script src="assets/js/util.js"></script>
			<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="assets/js/main.js"></script>

	</body>
</html>